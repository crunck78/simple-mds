<mat-toolbar role="heading" color="primary">
    <span>Workspace</span>
</mat-toolbar>

<mat-accordion displayMode="flat" hideToggle="false" multi="true" togglePosition="before">
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Channels
                <button (click)="$event.stopPropagation();
                    openAddChannelDialog()" mat-icon-button aria-label="Add Channel">
                    <mat-icon>add</mat-icon>
                </button>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <ng-container *ngIf="channels && channels.length > 0; else noChannels">
            <mat-action-row (click)="navigateToChannel(channel)" *ngFor="let channel of channels">
                <app-channel-title [channel]="channel"></app-channel-title>
            </mat-action-row>
        </ng-container>
        <ng-template #noChannels>
            <mat-action-row>There are no Channels</mat-action-row>
        </ng-template>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                Direct Messages
                <button (click)="$event.stopPropagation(); openAddDirectMessageDialog()" mat-icon-button
                    aria-label="Add Direct Message">
                    <mat-icon>add</mat-icon>
                </button>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <ng-container *ngIf="directMessages && directMessages.length > 0; else noDirectMessages">
            <mat-action-row *ngFor="let dm of directMessages">
                <app-direct-message-title (click)="navigateToDM(dm)" [directMessage]="dm"></app-direct-message-title>
            </mat-action-row>
        </ng-container>
        <ng-template #noDirectMessages>
            <mat-action-row>There are no Direct Messages</mat-action-row>
        </ng-template>
    </mat-expansion-panel>
</mat-accordion>